<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ryan Farahani â€” Data Analyst & AI Engineer</title>
    <meta name="description" content="Data Analyst & AI Engineer specializing in Python, SQL, Power BI, and Machine Learning. Based in Sydney, Australia.">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <!-- Stylesheet -->
    <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- ==================== SCROLL PROGRESS BAR ==================== -->
<div class="scroll-progress" id="scrollProgress"></div>

<!-- ==================== CUSTOM CURSOR ==================== -->
<div class="cursor-dot" id="cursorDot"></div>
<div class="cursor-ring" id="cursorRing"></div>

<!-- ==================== NAVIGATION ==================== -->
<nav class="navbar" id="navbar">
    <div class="nav-container">
        <a href="#home" class="nav-logo">
            <span class="logo-bracket">&lt;</span>Ryan<span class="logo-bracket">/&gt;</span>
        </a>
        <ul class="nav-links" id="navLinks">
            <li><a href="#home" class="nav-link active" data-section="home">Home</a></li>
            <li><a href="#about" class="nav-link" data-section="about">About</a></li>
            <li><a href="#skills" class="nav-link" data-section="skills">Skills</a></li>
            <li><a href="#projects" class="nav-link" data-section="projects">Projects</a></li>
            <li><a href="#contact" class="nav-link" data-section="contact">Contact</a></li>
        </ul>
        <div class="nav-actions">
            <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode">
                <i class="fas fa-moon"></i>
                <i class="fas fa-sun"></i>
            </button>
            <a href="resume.pdf" class="nav-resume-btn" target="_blank">Resume</a>
            <div class="hamburger" id="hamburger">
                <span></span><span></span><span></span>
            </div>
        </div>
    </div>
</nav>

<!-- ==================== HERO SECTION ==================== -->
<section id="home" class="hero">
    <div class="hero-bg-animation">
        <div class="floating-shape shape-1"></div>
        <div class="floating-shape shape-2"></div>
        <div class="floating-shape shape-3"></div>
        <div class="floating-shape shape-4"></div>
        <div class="floating-shape shape-5"></div>
        <div class="grid-bg"></div>
    </div>
    <div class="hero-container">
        <div class="hero-content">
            <div class="hero-badge">
                <span class="badge-dot"></span>
                Available for opportunities
            </div>
            <h1 class="hero-name">
                Hi, I'm <span class="gradient-text">Ryan Farahani</span>
            </h1>
            <div class="hero-title-wrapper">
                <span class="hero-title-static">I'm a&nbsp;</span>
                <span class="hero-title-typed" id="typedText"></span>
                <span class="typed-cursor">|</span>
            </div>
            <p class="hero-description">
                Transforming raw data into actionable insights and intelligent solutions. 
                I bridge the gap between data analysis and AI engineering to solve 
                real-world business challenges.
            </p>
            <div class="hero-buttons">
                <a href="#projects" class="btn btn-primary">
                    <span>View My Work</span>
                    <i class="fas fa-arrow-right"></i>
                </a>
                <a href="#contact" class="btn btn-ghost">
                    <span>Let's Talk</span>
                    <i class="fas fa-paper-plane"></i>
                </a>
            </div>
            <div class="hero-social">
                <a href="https://linkedin.com/in/ryan-farahanii" target="_blank" aria-label="LinkedIn" class="social-link">
                    <i class="fab fa-linkedin-in"></i>
                </a>
                <a href="https://github.com/ryanfarahani1" target="_blank" aria-label="GitHub" class="social-link">
                    <i class="fab fa-github"></i>
                </a>
                <a href="mailto:Ryan.farahani97@gmail.com" aria-label="Email" class="social-link">
                    <i class="fas fa-envelope"></i>
                </a>
            </div>
        </div>
        <div class="hero-visual">
            <div class="hero-image-wrapper">
                <div class="hero-image-ring"></div>
                <div class="hero-image-ring ring-2"></div>
                <img src="images/profile1.jpg" alt="Ryan Farahani" class="hero-photo">
                <div class="hero-floating-card card-1">
                    <i class="fab fa-python"></i>
                    <span>Python</span>
                </div>
                <div class="hero-floating-card card-2">
                    <i class="fas fa-brain"></i>
                    <span>AI/ML</span>
                </div>
                <div class="hero-floating-card card-3">
                    <i class="fas fa-chart-line"></i>
                    <span>Analytics</span>
                </div>
            </div>
        </div>
    </div>
    <div class="scroll-indicator">
        <span>Scroll</span>
        <div class="scroll-line"></div>
    </div>
</section>

<!-- ==================== STATS BAR ==================== -->
<section class="stats-bar">
    <div class="container">
        <div class="stats-grid">
            <div class="stat-item">
                <span class="stat-number" data-target="15">0</span><span class="stat-suffix">+</span>
                <span class="stat-label">Projects Completed</span>
            </div>
            <div class="stat-divider"></div>
            <div class="stat-item">
                <span class="stat-number" data-target="5">0</span><span class="stat-suffix">+</span>
                <span class="stat-label">AI Models Deployed</span>
            </div>
            <div class="stat-divider"></div>
            <div class="stat-item">
                <span class="stat-number" data-target="10">0</span><span class="stat-suffix">+</span>
                <span class="stat-label">Dashboards Built</span>
            </div>
            <div class="stat-divider"></div>
            <div class="stat-item">
                <span class="stat-number" data-target="3">0</span><span class="stat-suffix">+</span>
                <span class="stat-label">Years Experience</span>
            </div>
        </div>
    </div>
</section>

<!-- ==================== ABOUT SECTION ==================== -->
<section id="about" class="about">
    <div class="container">
        <div class="section-header">
            <span class="section-tag"><i class="fas fa-user"></i> Get to know me</span>
            <h2 class="section-title">About Me</h2>
        </div>
        <div class="about-grid">
            <div class="about-text-col">
                <div class="about-text">
                    <p class="about-lead">
                        I'm a <strong>Data Analyst</strong> and <strong>AI Engineer</strong> based in 
                        Sydney, Australia, with a Master's in IT specializing in Artificial Intelligence.
                    </p>
                    <p>
                        I specialize in extracting insights from complex datasets, building interactive 
                        dashboards, writing optimized SQL queries, and deploying AI/ML models that 
                        solve real business problems.
                    </p>
                    <p>
                        I enjoy working with cross-functional teams to translate data into business 
                        strategies that drive measurable results. My approach combines analytical 
                        rigor with creative problem-solving.
                    </p>
                </div>
                <div class="about-details">
                    <div class="detail-card">
                        <div class="detail-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div>
                            <span class="detail-label">Location</span>
                            <span class="detail-value">Sydney, Australia</span>
                        </div>
                    </div>
                    <div class="detail-card">
                        <div class="detail-icon">
                            <i class="fas fa-graduation-cap"></i>
                        </div>
                        <div>
                            <span class="detail-label">Education</span>
                            <span class="detail-value">Master of IT in AI</span>
                        </div>
                    </div>
                    <div class="detail-card">
                        <div class="detail-icon status-icon">
                            <i class="fas fa-circle"></i>
                        </div>
                        <div>
                            <span class="detail-label">Status</span>
                            <span class="detail-value">Open to opportunities</span>
                        </div>
                    </div>
                </div>
                <a href="resume.pdf" class="btn btn-primary" target="_blank">
                    <i class="fas fa-download"></i>
                    <span>Download Resume</span>
                </a>
            </div>
            <div class="about-tech-col">
                <div class="tech-orbit">
                    <div class="orbit-center">
                        <span>Core<br>Stack</span>
                    </div>
                    <div class="orbit-ring ring-1">
                        <div class="orbit-item" style="--angle: 0deg;"><i class="fab fa-python"></i></div>
                        <div class="orbit-item" style="--angle: 90deg;"><i class="fas fa-database"></i></div>
                        <div class="orbit-item" style="--angle: 180deg;"><i class="fas fa-chart-bar"></i></div>
                        <div class="orbit-item" style="--angle: 270deg;"><i class="fas fa-robot"></i></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- ==================== SKILLS SECTION ==================== -->
<section id="skills" class="skills">
    <div class="container">
        <div class="section-header">
            <span class="section-tag"><i class="fas fa-code"></i> What I use</span>
            <h2 class="section-title">Skills & Tools</h2>
        </div>
        <div class="skills-grid">
            <div class="skill-card" data-color="blue">
                <div class="skill-card-header">
                    <div class="skill-icon-wrapper blue">
                        <i class="fab fa-python"></i>
                    </div>
                    <h3>Python</h3>
                </div>
                <p class="skill-description">Data analysis, automation, and ML model development</p>
                <div class="skill-tags">
                    <span>Pandas</span>
                    <span>NumPy</span>
                    <span>Matplotlib</span>
                    <span>Seaborn</span>
                    <span>Plotly</span>
                    <span>Scikit-learn</span>
                    <span>Streamlit</span>
                </div>
                <div class="skill-level">
                    <div class="skill-level-bar" data-width="92"></div>
                </div>
            </div>

            <div class="skill-card" data-color="green">
                <div class="skill-card-header">
                    <div class="skill-icon-wrapper green">
                        <i class="fas fa-database"></i>
                    </div>
                    <h3>SQL</h3>
                </div>
                <p class="skill-description">Database design, complex queries, and data pipelines</p>
                <div class="skill-tags">
                    <span>PostgreSQL</span>
                    <span>MySQL</span>
                    <span>SQL Server</span>
                    <span>CTEs</span>
                    <span>Window Functions</span>
                    <span>Stored Procedures</span>
                </div>
                <div class="skill-level">
                    <div class="skill-level-bar" data-width="88"></div>
                </div>
            </div>

            <div class="skill-card" data-color="amber">
                <div class="skill-card-header">
                    <div class="skill-icon-wrapper amber">
                        <i class="fas fa-chart-bar"></i>
                    </div>
                    <h3>Power BI</h3>
                </div>
                <p class="skill-description">Interactive dashboards, data modeling, and business intelligence</p>
                <div class="skill-tags">
                    <span>DAX</span>
                    <span>Power Query</span>
                    <span>Data Modeling</span>
                    <span>Interactive Dashboards</span>
                    <span>Report Design</span>
                </div>
                <div class="skill-level">
                    <div class="skill-level-bar" data-width="85"></div>
                </div>
            </div>

            <div class="skill-card" data-color="purple">
                <div class="skill-card-header">
                    <div class="skill-icon-wrapper purple">
                        <i class="fas fa-robot"></i>
                    </div>
                    <h3>AI / ML</h3>
                </div>
                <p class="skill-description">Deep learning, NLP, computer vision, and LLM applications</p>
                <div class="skill-tags">
                    <span>TensorFlow</span>
                    <span>PyTorch</span>
                    <span>NLP</span>
                    <span>Computer Vision</span>
                    <span>LLMs</span>
                    <span>HuggingFace</span>
                    <span>LangChain</span>
                </div>
                <div class="skill-level">
                    <div class="skill-level-bar" data-width="90"></div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- ==================== PROJECTS SECTION ==================== -->
<section id="projects" class="projects">
    <div class="container">
        <div class="section-header">
            <span class="section-tag"><i class="fas fa-folder-open"></i> My work</span>
            <h2 class="section-title">Featured Projects</h2>
        </div>

        <!-- Filter Buttons -->
        <div class="filter-buttons">
            <button class="filter-btn active" data-filter="all">
                <i class="fas fa-layer-group"></i> All
            </button>
            <button class="filter-btn" data-filter="python">
                <i class="fab fa-python"></i> Python
            </button>
            <button class="filter-btn" data-filter="sql">
                <i class="fas fa-database"></i> SQL
            </button>
            <button class="filter-btn" data-filter="powerbi">
                <i class="fas fa-chart-bar"></i> Power BI
            </button>
            <button class="filter-btn" data-filter="ai">
                <i class="fas fa-robot"></i> AI / ML
            </button>
        </div>

        <div class="projects-grid">

            <!-- PROJECT 1: Python -->
            <div class="project-card" data-category="python">
                <div class="project-image">
                    <img src="images/domain.jpg" alt="Sales Analysis">
                    <div class="project-overlay">
                        <div class="overlay-content">
                            <a href="https://your-streamlit-app.streamlit.app" target="_blank" class="overlay-btn primary">
                                <i class="fas fa-external-link-alt"></i> Live Demo
                            </a>
                            <a href="https://github.com/RyanFarahani1/real-estate-ml-predictions" target="_blank" class="overlay-btn">
                                <i class="fab fa-github"></i> Source Code
                            </a>
                        </div>
                    </div>
                    <span class="project-badge python-badge">Python</span>
                </div>
                <div class="project-info">
                    <h3>Multi-Task Real Estate Analytics: Ensemble Learning for Price & Type Prediction</h3>
                    <p>A top-performing AI system designed to accurately predict home prices and property types. By combining multiple smart models and cleaning complex data, this project provides highly reliable real estate market insights.</p>
                    <div class="project-tech">
                        <span>Pandas</span>
                        <span>Plotly</span>
                        <span>Streamlit</span>
                        <span>Prophet</span>
                    </div>
                    <div class="project-links-mobile">
                        <a href="https://your-streamlit-app.streamlit.app" target="_blank"><i class="fas fa-external-link-alt"></i> Demo</a>
                        <a href="https://github.com/ryanfarahani1/project1" target="_blank"><i class="fab fa-github"></i> Code</a>
                    </div>
                </div>
            </div>

            <!-- PROJECT 2: SQL -->
            <div class="project-card" data-category="sql">
                <div class="project-image">
                    <img src="https://via.placeholder.com/600x400/059669/ffffff?text=SQL+Analysis" alt="SQL Analysis">
                    <div class="project-overlay">
                        <div class="overlay-content">
                            <a href="https://github.com/ryanfarahani1/project2" target="_blank" class="overlay-btn primary">
                                <i class="fab fa-github"></i> View Case Study
                            </a>
                        </div>
                    </div>
                    <span class="project-badge sql-badge">SQL</span>
                </div>
                <div class="project-info">
                    <h3>E-Commerce Database Analysis</h3>
                    <p>Designed and queried a normalized database to analyze customer behavior, product performance, and revenue trends using advanced SQL.</p>
                    <div class="project-tech">
                        <span>PostgreSQL</span>
                        <span>CTEs</span>
                        <span>Window Functions</span>
                    </div>
                    <div class="project-links-mobile">
                        <a href="https://github.com/ryanfarahani1/project2" target="_blank"><i class="fab fa-github"></i> Case Study</a>
                    </div>
                </div>
            </div>

            <!-- PROJECT 3: Power BI -->
            <div class="project-card" data-category="powerbi">
                <div class="project-image">
                    <img src="https://via.placeholder.com/600x400/d97706/ffffff?text=Power+BI" alt="Power BI Dashboard">
                    <div class="project-overlay">
                        <div class="overlay-content">
                            <a href="https://app.powerbi.com/view?r=YOUR_EMBED" target="_blank" class="overlay-btn primary">
                                <i class="fas fa-external-link-alt"></i> Live Dashboard
                            </a>
                        </div>
                    </div>
                    <span class="project-badge powerbi-badge">Power BI</span>
                </div>
                <div class="project-info">
                    <h3>HR Analytics Dashboard</h3>
                    <p>Built an interactive dashboard tracking employee attrition, satisfaction scores, and department performance. Reduced HR reporting time by 60%.</p>
                    <div class="project-tech">
                        <span>Power BI</span>
                        <span>DAX</span>
                        <span>Power Query</span>
                    </div>
                    <div class="project-links-mobile">
                        <a href="https://app.powerbi.com/view?r=YOUR_EMBED" target="_blank"><i class="fas fa-external-link-alt"></i> Dashboard</a>
                    </div>
                </div>
            </div>

            <!-- PROJECT 4: AI/ML -->
            <div class="project-card" data-category="ai">
                <div class="project-image">
                    <img src="https://via.placeholder.com/600x400/7c3aed/ffffff?text=Sentiment+AI" alt="AI Project">
                    <div class="project-overlay">
                        <div class="overlay-content">
                            <a href="https://huggingface.co/spaces/ryanfarahani1/project" target="_blank" class="overlay-btn primary">
                                <i class="fas fa-external-link-alt"></i> Live Demo
                            </a>
                            <a href="https://github.com/ryanfarahani1/project4" target="_blank" class="overlay-btn">
                                <i class="fab fa-github"></i> Source Code
                            </a>
                        </div>
                    </div>
                    <span class="project-badge ai-badge">AI / ML</span>
                </div>
                <div class="project-info">
                    <h3>Sentiment Analysis App</h3>
                    <p>Fine-tuned a transformer model for sentiment analysis on customer reviews. Deployed as a web app with real-time predictions. 94% accuracy.</p>
                    <div class="project-tech">
                        <span>PyTorch</span>
                        <span>HuggingFace</span>
                        <span>Gradio</span>
                    </div>
                    <div class="project-links-mobile">
                        <a href="https://huggingface.co/spaces/ryanfarahani1/project" target="_blank"><i class="fas fa-external-link-alt"></i> Demo</a>
                        <a href="https://github.com/ryanfarahani1/project4" target="_blank"><i class="fab fa-github"></i> Code</a>
                    </div>
                </div>
            </div>

            <!-- PROJECT 5: Python -->
            <div class="project-card" data-category="python">
                <div class="project-image">
                    <img src="https://via.placeholder.com/600x400/2563eb/ffffff?text=EDA+Project" alt="EDA Project">
                    <div class="project-overlay">
                        <div class="overlay-content">
                            <a href="https://github.com/ryanfarahani1/project5" target="_blank" class="overlay-btn primary">
                                <i class="fab fa-github"></i> View Notebook
                            </a>
                        </div>
                    </div>
                    <span class="project-badge python-badge">Python</span>
                </div>
                <div class="project-info">
                    <h3>COVID-19 Data Exploration</h3>
                    <p>Performed comprehensive EDA on global COVID data. Created visualizations revealing vaccination impact on mortality rates across 50+ countries.</p>
                    <div class="project-tech">
                        <span>Pandas</span>
                        <span>Matplotlib</span>
                        <span>Seaborn</span>
                    </div>
                    <div class="project-links-mobile">
                        <a href="https://github.com/ryanfarahani1/project5" target="_blank"><i class="fab fa-github"></i> Notebook</a>
                    </div>
                </div>
            </div>

            <!-- PROJECT 6: AI -->
            <div class="project-card" data-category="ai">
                <div class="project-image">
                    <img src="https://via.placeholder.com/600x400/7c3aed/ffffff?text=RAG+Chatbot" alt="RAG Chatbot">
                    <div class="project-overlay">
                        <div class="overlay-content">
                            <a href="https://your-app.streamlit.app" target="_blank" class="overlay-btn primary">
                                <i class="fas fa-external-link-alt"></i> Live Demo
                            </a>
                            <a href="https://github.com/ryanfarahani1/project6" target="_blank" class="overlay-btn">
                                <i class="fab fa-github"></i> Source Code
                            </a>
                        </div>
                    </div>
                    <span class="project-badge ai-badge">AI / ML</span>
                </div>
                <div class="project-info">
                    <h3>RAG Chatbot â€” Chat with PDF</h3>
                    <p>Built a Retrieval-Augmented Generation chatbot that lets users upload PDFs and ask questions. Uses LangChain + OpenAI + FAISS vector store.</p>
                    <div class="project-tech">
                        <span>LangChain</span>
                        <span>OpenAI</span>
                        <span>FAISS</span>
                        <span>Streamlit</span>
                    </div>
                    <div class="project-links-mobile">
                        <a href="https://your-app.streamlit.app" target="_blank"><i class="fas fa-external-link-alt"></i> Demo</a>
                        <a href="https://github.com/ryanfarahani1/project6" target="_blank"><i class="fab fa-github"></i> Code</a>
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>
  <!-- Demo 7: AI -->
<section id="image-captioning" class="projects">
    <div class="container">
        <div class="section-header">
            <span class="section-tag"><i class="fas fa-image"></i> Live AI Demo</span>
            <h2 class="section-title">Image Captioning Model</h2>
            <p class="section-subtitle">
                Upload an image and see the caption generated by my EfficientNetâ€‘B0 + GPTâ€‘2 model
                deployed on Hugging Face Spaces.
            </p>
        </div>

        <div class="project-card" style="max-width: 600px; margin: 0 auto;">
            <div class="project-image" style="height:auto;">
                <input type="file" id="captionImageInput" accept="image/*" style="margin:16px 0;">
                <img id="captionImagePreview" alt="Selected image preview" style="display:none; margin-top:12px;">
            </div>
            <div class="project-info">
                <button class="btn btn-primary" id="captionSubmitBtn">
                    <span>Generate Caption</span>
                    <i class="fas fa-magic"></i>
                </button>
                <p id="captionStatus" style="margin-top:12px; font-size:0.9rem; color:var(--text-tertiary);"></p>
                <p id="captionResult" style="margin-top:8px; font-weight:600;"></p>
            </div>
        </div>
    </div>
</section>

<!-- ==================== DOCMIND AI â€” NATIVE CHAT DEMO ==================== -->
<section id="demo" class="docmind-section">

  <!-- Ambient background -->
  <div class="dm-bg">
    <div class="dm-orb dm-orb-1"></div>
    <div class="dm-orb dm-orb-2"></div>
    <div class="dm-orb dm-orb-3"></div>
    <div class="dm-grid"></div>
  </div>

  <div class="container" style="position:relative;z-index:1;">

    <!-- Section header -->
    <div class="section-header reveal">
      <span class="section-tag light"><i class="fas fa-brain"></i> Live AI Demo</span>
      <h2 class="section-title light">DocMind AI</h2>
      <p class="section-subtitle">
        Upload a PDF or TXT and have a real conversation with your document â€”
        powered by RAG, ChromaDB, and Mistral-7B. Running live on Hugging Face.
      </p>
    </div>

    <!-- Main demo card -->
    <div class="dm-card reveal">

      <!-- Left panel: info + upload -->
      <div class="dm-panel dm-left">

        <!-- Status indicator -->
        <div class="dm-status" id="dmStatus">
          <span class="dm-status-dot idle"></span>
          <span class="dm-status-text">No document loaded</span>
        </div>

        <!-- Upload zone -->
        <div class="dm-upload-zone" id="dmUploadZone">
          <input type="file" id="dmFileInput" accept=".pdf,.txt" hidden>
          <div class="dm-upload-icon">
            <i class="fas fa-cloud-upload-alt"></i>
          </div>
          <p class="dm-upload-title">Drop your document here</p>
          <p class="dm-upload-sub">PDF or TXT Â· Max 10MB</p>
          <button class="dm-upload-btn" onclick="document.getElementById('dmFileInput').click()">
            <i class="fas fa-folder-open"></i> Browse Files
          </button>
        </div>

        <!-- File info (shown after upload) -->
        <div class="dm-file-info" id="dmFileInfo" style="display:none;">
          <div class="dm-file-icon"><i class="fas fa-file-alt"></i></div>
          <div class="dm-file-details">
            <span class="dm-file-name" id="dmFileName">document.pdf</span>
            <span class="dm-file-chunks" id="dmFileChunks">Indexing...</span>
          </div>
          <button class="dm-file-remove" id="dmFileRemove" title="Remove document">
            <i class="fas fa-times"></i>
          </button>
        </div>

        <!-- OR divider -->
        <div class="dm-or">
          <span>or try a sample question</span>
        </div>

        <!-- Sample questions -->
        <div class="dm-samples">
          <button class="dm-sample-btn" data-q="What are the main topics covered in this document?">
            <i class="fas fa-list"></i> Main topics
          </button>
          <button class="dm-sample-btn" data-q="Summarize the key findings or conclusions.">
            <i class="fas fa-compress-alt"></i> Summarize
          </button>
          <button class="dm-sample-btn" data-q="What recommendations are made?">
            <i class="fas fa-lightbulb"></i> Recommendations
          </button>
          <button class="dm-sample-btn" data-q="What data or evidence is presented?">
            <i class="fas fa-chart-bar"></i> Evidence
          </button>
        </div>

        <!-- Tech stack -->
        <div class="dm-tech">
          <span class="dm-tech-label">Powered by</span>
          <div class="dm-tech-pills">
            <span>LangChain</span>
            <span>ChromaDB</span>
            <span>Mistral-7B</span>
            <span>FastAPI</span>
            <span>HuggingFace</span>
          </div>
        </div>

        <!-- External link -->
        <a href="https://huggingface.co/spaces/Ryanfafa/docmind-ai" target="_blank" class="dm-external-link">
          <i class="fas fa-external-link-alt"></i>
          Open full app on HuggingFace
        </a>

      </div>

      <!-- Right panel: chat -->
      <div class="dm-panel dm-right">

        <!-- Chat header -->
        <div class="dm-chat-header">
          <div class="dm-chat-avatar">
            <i class="fas fa-brain"></i>
          </div>
          <div>
            <div class="dm-chat-name">DocMind AI</div>
            <div class="dm-chat-sub" id="dmChatSub">Ready to analyze your document</div>
          </div>
          <div class="dm-thinking" id="dmThinking">
            <span></span><span></span><span></span>
          </div>
        </div>

        <!-- Messages -->
        <div class="dm-messages" id="dmMessages">

          <!-- Welcome message -->
          <div class="dm-msg dm-msg-ai">
            <div class="dm-msg-avatar"><i class="fas fa-brain"></i></div>
            <div class="dm-msg-content">
              <div class="dm-msg-bubble">
                ðŸ‘‹ Hi! I'm <strong>DocMind AI</strong> â€” a RAG-powered assistant built by Ryan.<br><br>
                Upload a <strong>PDF or TXT</strong> document on the left, then ask me anything about it.
                I'll retrieve the most relevant sections and give you accurate, grounded answers.
              </div>
              <div class="dm-msg-meta">DocMind AI Â· Just now</div>
            </div>
          </div>

        </div>

        <!-- Input area -->
        <div class="dm-input-area">
          <div class="dm-input-wrap">
            <textarea
              id="dmInput"
              class="dm-input"
              placeholder="Upload a document first, then ask anything..."
              rows="1"
              disabled
            ></textarea>
            <button class="dm-send-btn" id="dmSendBtn" disabled>
              <i class="fas fa-paper-plane"></i>
            </button>
          </div>
          <div class="dm-input-hint">
            <i class="fas fa-shield-alt"></i> Answers are grounded in your document only â€” no hallucinations
          </div>
        </div>

      </div>
    </div>

    <!-- Stats row below card -->
    <div class="dm-stats-row reveal">
      <div class="dm-stat-item">
        <i class="fas fa-layer-group"></i>
        <span class="dm-stat-val">600</span>
        <span class="dm-stat-lbl">Token Chunk Size</span>
      </div>
      <div class="dm-stat-item">
        <i class="fas fa-search"></i>
        <span class="dm-stat-val">MMR</span>
        <span class="dm-stat-lbl">Search Strategy</span>
      </div>
      <div class="dm-stat-item">
        <i class="fas fa-vector-square"></i>
        <span class="dm-stat-val">384</span>
        <span class="dm-stat-lbl">Embedding Dims</span>
      </div>
      <div class="dm-stat-item">
        <i class="fas fa-bolt"></i>
        <span class="dm-stat-val">Top-3</span>
        <span class="dm-stat-lbl">Retrieval K</span>
      </div>
      <div class="dm-stat-item">
        <i class="fas fa-robot"></i>
        <span class="dm-stat-val">Mistral-7B</span>
        <span class="dm-stat-lbl">LLM Backend</span>
      </div>
    </div>

  </div>
</section>

<!-- ==================== DOCMIND CSS ==================== -->
<style>
/* Section */
.docmind-section {
  padding: var(--section-padding) 0;
  background: var(--code-bg);
  position: relative;
  overflow: hidden;
}

/* Ambient bg */
.dm-bg { position: absolute; inset: 0; z-index: 0; }
.dm-orb {
  position: absolute; border-radius: 50%;
  filter: blur(80px); pointer-events: none;
}
.dm-orb-1 {
  width: 500px; height: 500px;
  background: rgba(37,99,235,0.1);
  top: -150px; right: -100px;
  animation: dmOrbFloat 18s ease-in-out infinite;
}
.dm-orb-2 {
  width: 400px; height: 400px;
  background: rgba(124,58,237,0.08);
  bottom: -100px; left: -100px;
  animation: dmOrbFloat 22s ease-in-out infinite reverse;
}
.dm-orb-3 {
  width: 300px; height: 300px;
  background: rgba(5,150,105,0.06);
  top: 40%; left: 40%;
  animation: dmOrbFloat 15s ease-in-out infinite;
  animation-delay: -8s;
}
@keyframes dmOrbFloat {
  0%,100% { transform: translate(0,0); }
  50% { transform: translate(30px,-30px); }
}
.dm-grid {
  position: absolute; inset: 0;
  background-image:
    linear-gradient(rgba(37,99,235,0.04) 1px, transparent 1px),
    linear-gradient(90deg, rgba(37,99,235,0.04) 1px, transparent 1px);
  background-size: 50px 50px;
}

/* Main card */
.dm-card {
  display: grid;
  grid-template-columns: 340px 1fr;
  gap: 0;
  background: rgba(255,255,255,0.03);
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: var(--radius-xl);
  overflow: hidden;
  box-shadow: 0 40px 100px rgba(0,0,0,0.4);
  margin-bottom: 32px;
  min-height: 580px;
}

/* Panels */
.dm-panel { display: flex; flex-direction: column; }

.dm-left {
  background: rgba(255,255,255,0.03);
  border-right: 1px solid rgba(255,255,255,0.07);
  padding: 28px 24px;
  gap: 16px;
}

.dm-right {
  background: #0a0e1a;
}

/* Status */
.dm-status {
  display: flex; align-items: center; gap: 8px;
  padding: 8px 14px;
  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 50px;
  font-size: 0.78rem;
  font-weight: 600;
  color: #64748b;
  align-self: flex-start;
}
.dm-status-dot {
  width: 8px; height: 8px; border-radius: 50%;
  flex-shrink: 0;
}
.dm-status-dot.idle { background: #475569; }
.dm-status-dot.loading { background: #f59e0b; animation: pulse-dot 1s infinite; }
.dm-status-dot.ready { background: #22c55e; animation: pulse-dot 2s infinite; }
.dm-status-dot.error { background: #ef4444; }

/* Upload zone */
.dm-upload-zone {
  border: 2px dashed rgba(255,255,255,0.1);
  border-radius: var(--radius-md);
  padding: 24px 16px;
  text-align: center;
  transition: all 0.3s ease;
  cursor: pointer;
  background: rgba(255,255,255,0.02);
}
.dm-upload-zone:hover, .dm-upload-zone.dragover {
  border-color: rgba(37,99,235,0.5);
  background: rgba(37,99,235,0.06);
}
.dm-upload-icon {
  width: 48px; height: 48px;
  background: rgba(37,99,235,0.1);
  border-radius: var(--radius-md);
  display: flex; align-items: center; justify-content: center;
  margin: 0 auto 12px;
  font-size: 1.3rem; color: #60a5fa;
}
.dm-upload-title {
  font-size: 0.88rem; font-weight: 600; color: #e2e8f0; margin-bottom: 4px;
}
.dm-upload-sub {
  font-size: 0.75rem; color: #475569; margin-bottom: 14px;
}
.dm-upload-btn {
  display: inline-flex; align-items: center; gap: 7px;
  padding: 8px 18px;
  background: rgba(37,99,235,0.15);
  border: 1px solid rgba(37,99,235,0.3);
  border-radius: 6px;
  color: #60a5fa;
  font-size: 0.8rem; font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
  font-family: 'Inter', sans-serif;
}
.dm-upload-btn:hover {
  background: rgba(37,99,235,0.25);
  border-color: rgba(37,99,235,0.5);
}

/* File info */
.dm-file-info {
  display: flex; align-items: center; gap: 10px;
  padding: 12px 14px;
  background: rgba(34,197,94,0.08);
  border: 1px solid rgba(34,197,94,0.2);
  border-radius: var(--radius-md);
}
.dm-file-icon {
  width: 36px; height: 36px;
  background: rgba(34,197,94,0.1);
  border-radius: 8px;
  display: flex; align-items: center; justify-content: center;
  color: #4ade80; font-size: 1rem; flex-shrink: 0;
}
.dm-file-details { flex: 1; min-width: 0; }
.dm-file-name {
  display: block; font-size: 0.82rem; font-weight: 600;
  color: #e2e8f0; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.dm-file-chunks { font-size: 0.72rem; color: #4ade80; font-weight: 500; }
.dm-file-remove {
  width: 28px; height: 28px; border-radius: 6px;
  border: none; background: rgba(239,68,68,0.1);
  color: #ef4444; cursor: pointer; font-size: 0.75rem;
  display: flex; align-items: center; justify-content: center;
  transition: background 0.2s; flex-shrink: 0;
}
.dm-file-remove:hover { background: rgba(239,68,68,0.2); }

/* OR divider */
.dm-or {
  display: flex; align-items: center; gap: 10px;
  font-size: 0.72rem; color: #334155; font-weight: 500;
}
.dm-or::before, .dm-or::after {
  content: ''; flex: 1; height: 1px; background: rgba(255,255,255,0.06);
}

/* Sample questions */
.dm-samples {
  display: flex; flex-direction: column; gap: 6px;
}
.dm-sample-btn {
  display: flex; align-items: center; gap: 8px;
  padding: 9px 12px;
  background: rgba(255,255,255,0.03);
  border: 1px solid rgba(255,255,255,0.07);
  border-radius: 8px;
  color: #94a3b8; font-size: 0.78rem; font-weight: 500;
  cursor: pointer; text-align: left;
  transition: all 0.2s;
  font-family: 'Inter', sans-serif;
}
.dm-sample-btn i { color: #3b82f6; font-size: 0.72rem; flex-shrink: 0; }
.dm-sample-btn:hover {
  background: rgba(37,99,235,0.1);
  border-color: rgba(37,99,235,0.3);
  color: #e2e8f0;
}
.dm-sample-btn:disabled { opacity: 0.4; cursor: not-allowed; }

/* Tech stack */
.dm-tech { margin-top: auto; }
.dm-tech-label {
  display: block; font-size: 0.68rem; color: #334155;
  text-transform: uppercase; letter-spacing: 1px; font-weight: 600;
  margin-bottom: 8px;
}
.dm-tech-pills {
  display: flex; flex-wrap: wrap; gap: 5px;
}
.dm-tech-pills span {
  padding: 3px 10px;
  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 50px;
  font-size: 0.7rem; color: #64748b; font-weight: 500;
}

/* External link */
.dm-external-link {
  display: inline-flex; align-items: center; gap: 6px;
  font-size: 0.75rem; color: #3b82f6; font-weight: 500;
  transition: color 0.2s;
  margin-top: 6px;
}
.dm-external-link:hover { color: #60a5fa; }

/* â”€â”€ Right panel: Chat â”€â”€ */
.dm-chat-header {
  display: flex; align-items: center; gap: 12px;
  padding: 18px 24px;
  border-bottom: 1px solid rgba(255,255,255,0.06);
  background: rgba(255,255,255,0.02);
}
.dm-chat-avatar {
  width: 40px; height: 40px;
  background: linear-gradient(135deg, #2563eb, #7c3aed);
  border-radius: 10px;
  display: flex; align-items: center; justify-content: center;
  font-size: 1rem; color: white; flex-shrink: 0;
}
.dm-chat-name { font-size: 0.9rem; font-weight: 700; color: #f1f5f9; }
.dm-chat-sub { font-size: 0.72rem; color: #475569; margin-top: 1px; }

/* Thinking indicator */
.dm-thinking {
  margin-left: auto;
  display: none;
  gap: 4px;
  align-items: center;
}
.dm-thinking.active { display: flex; }
.dm-thinking span {
  width: 6px; height: 6px; border-radius: 50%; background: #3b82f6;
  animation: dmThink 1.2s ease-in-out infinite;
}
.dm-thinking span:nth-child(2) { animation-delay: 0.2s; }
.dm-thinking span:nth-child(3) { animation-delay: 0.4s; }
@keyframes dmThink {
  0%,80%,100% { opacity: 0.2; transform: scale(0.8); }
  40% { opacity: 1; transform: scale(1); }
}

/* Messages */
.dm-messages {
  flex: 1; overflow-y: auto; padding: 20px;
  display: flex; flex-direction: column; gap: 16px;
  scroll-behavior: smooth;
}
.dm-messages::-webkit-scrollbar { width: 4px; }
.dm-messages::-webkit-scrollbar-track { background: transparent; }
.dm-messages::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.08); border-radius: 2px; }

/* Message bubbles */
.dm-msg { display: flex; gap: 10px; animation: dmMsgIn 0.35s ease; }
@keyframes dmMsgIn {
  from { opacity: 0; transform: translateY(12px); }
  to { opacity: 1; transform: translateY(0); }
}

.dm-msg-ai { align-items: flex-start; }
.dm-msg-user { align-items: flex-start; flex-direction: row-reverse; }

.dm-msg-avatar {
  width: 32px; height: 32px; border-radius: 8px; flex-shrink: 0;
  display: flex; align-items: center; justify-content: center; font-size: 0.85rem;
}
.dm-msg-ai .dm-msg-avatar {
  background: linear-gradient(135deg, #2563eb, #7c3aed); color: white;
}
.dm-msg-user .dm-msg-avatar {
  background: rgba(255,255,255,0.08); color: #94a3b8;
}
.dm-msg-user .dm-msg-avatar::before { content: '\f007'; font-family: 'Font Awesome 6 Free'; font-weight: 900; }

.dm-msg-content { max-width: 80%; display: flex; flex-direction: column; gap: 4px; }
.dm-msg-user .dm-msg-content { align-items: flex-end; }

.dm-msg-bubble {
  padding: 12px 16px; border-radius: 14px;
  font-size: 0.875rem; line-height: 1.7; font-weight: 400;
}
.dm-msg-ai .dm-msg-bubble {
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.07);
  color: #cbd5e1; border-radius: 4px 14px 14px 14px;
}
.dm-msg-user .dm-msg-bubble {
  background: linear-gradient(135deg, rgba(37,99,235,0.25), rgba(124,58,237,0.2));
  border: 1px solid rgba(37,99,235,0.3);
  color: #e2e8f0; border-radius: 14px 4px 14px 14px;
}

.dm-msg-meta { font-size: 0.68rem; color: #334155; padding: 0 4px; }

/* Sources */
.dm-sources {
  display: flex; flex-wrap: wrap; gap: 5px; margin-top: 6px;
}
.dm-source-pill {
  display: inline-flex; align-items: center; gap: 4px;
  padding: 3px 10px;
  background: rgba(37,99,235,0.1);
  border: 1px solid rgba(37,99,235,0.25);
  border-radius: 50px;
  font-size: 0.68rem; color: #60a5fa; font-weight: 500;
}

/* Input area */
.dm-input-area {
  padding: 16px 20px;
  border-top: 1px solid rgba(255,255,255,0.06);
  background: rgba(0,0,0,0.2);
}
.dm-input-wrap {
  display: flex; gap: 10px; align-items: flex-end;
}
.dm-input {
  flex: 1; background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 12px; padding: 12px 16px;
  color: #e2e8f0; font-size: 0.875rem;
  font-family: 'Inter', sans-serif;
  resize: none; outline: none;
  transition: border-color 0.2s;
  line-height: 1.5; max-height: 120px;
}
.dm-input:focus { border-color: rgba(37,99,235,0.5); }
.dm-input:disabled { opacity: 0.4; cursor: not-allowed; }
.dm-input::placeholder { color: #334155; }

.dm-send-btn {
  width: 44px; height: 44px; border-radius: 10px;
  background: linear-gradient(135deg, #2563eb, #7c3aed);
  border: none; color: white; cursor: pointer;
  font-size: 0.9rem;
  display: flex; align-items: center; justify-content: center;
  transition: all 0.2s; flex-shrink: 0;
  box-shadow: 0 4px 15px rgba(37,99,235,0.3);
}
.dm-send-btn:hover:not(:disabled) {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(37,99,235,0.4);
}
.dm-send-btn:disabled { opacity: 0.3; cursor: not-allowed; transform: none; }

.dm-input-hint {
  margin-top: 8px; font-size: 0.68rem; color: #1e293b;
  display: flex; align-items: center; gap: 5px;
}
.dm-input-hint i { color: #22c55e; }

/* Stats row */
.dm-stats-row {
  display: flex; justify-content: center; gap: 0;
  background: rgba(255,255,255,0.02);
  border: 1px solid rgba(255,255,255,0.06);
  border-radius: var(--radius-lg);
  overflow: hidden;
}
.dm-stat-item {
  flex: 1; display: flex; flex-direction: column; align-items: center;
  gap: 4px; padding: 20px 16px; text-align: center;
  border-right: 1px solid rgba(255,255,255,0.06);
  transition: background 0.2s;
}
.dm-stat-item:last-child { border-right: none; }
.dm-stat-item:hover { background: rgba(255,255,255,0.03); }
.dm-stat-item i { color: #3b82f6; font-size: 0.9rem; margin-bottom: 4px; }
.dm-stat-val {
  font-size: 1.1rem; font-weight: 800; color: #f1f5f9;
  font-family: 'JetBrains Mono', monospace; letter-spacing: -0.5px;
}
.dm-stat-lbl { font-size: 0.68rem; color: #334155; font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px; }

/* Error message */
.dm-msg-error .dm-msg-bubble {
  background: rgba(239,68,68,0.08);
  border-color: rgba(239,68,68,0.2);
  color: #fca5a5;
}

/* Responsive */
@media (max-width: 900px) {
  .dm-card { grid-template-columns: 1fr; min-height: auto; }
  .dm-left { border-right: none; border-bottom: 1px solid rgba(255,255,255,0.07); }
  .dm-upload-zone { padding: 16px; }
  .dm-messages { min-height: 300px; }
}
@media (max-width: 768px) {
  .dm-stats-row { flex-wrap: wrap; }
  .dm-stat-item { flex: 1 1 33%; border-bottom: 1px solid rgba(255,255,255,0.06); }
}
</style>

<!-- ==================== DOCMIND JS ==================== -->
<script>
(function() {
  // â”€â”€ Config â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  // Replace this with your actual HuggingFace Space API URL after deployment
  const API_BASE = 'https://ryanfafa-docmind-ai.hf.space';
  // If you deploy the FastAPI on port 7861, the URL will be:
  // const API_BASE = 'https://ryanfafa-docmind-ai-api.hf.space';
  // HuggingFace exposes additional ports as separate spaces, so check your space URL

  // â”€â”€ State â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  let documentLoaded = false;
  let isThinking = false;

  // â”€â”€ Elements â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  const fileInput     = document.getElementById('dmFileInput');
  const uploadZone    = document.getElementById('dmUploadZone');
  const fileInfo      = document.getElementById('dmFileInfo');
  const fileName      = document.getElementById('dmFileName');
  const fileChunks    = document.getElementById('dmFileChunks');
  const fileRemove    = document.getElementById('dmFileRemove');
  const statusDot     = document.querySelector('.dm-status-dot');
  const statusText    = document.querySelector('.dm-status-text');
  const messages      = document.getElementById('dmMessages');
  const input         = document.getElementById('dmInput');
  const sendBtn       = document.getElementById('dmSendBtn');
  const thinking      = document.getElementById('dmThinking');
  const chatSub       = document.getElementById('dmChatSub');
  const sampleBtns    = document.querySelectorAll('.dm-sample-btn');

  // â”€â”€ Status helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  function setStatus(state, text) {
    statusDot.className = 'dm-status-dot ' + state;
    statusText.textContent = text;
  }

  function setThinking(active) {
    isThinking = active;
    thinking.classList.toggle('active', active);
    sendBtn.disabled = active || !documentLoaded;
    input.disabled = active || !documentLoaded;
    chatSub.textContent = active ? 'Thinking...' : (documentLoaded ? 'Document loaded Â· Ask anything' : 'Ready to analyze your document');
  }

  // â”€â”€ Add message â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  function addMessage(role, content, sources = []) {
    const isAI = role === 'ai';
    const isError = role === 'error';
    const time = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });

    const msgEl = document.createElement('div');
    msgEl.className = 'dm-msg dm-msg-' + (isAI || isError ? 'ai' : 'user') + (isError ? ' dm-msg-error' : '');

    const avatarIcon = isAI || isError ? 'fa-brain' : 'fa-user';
    const authorLabel = isAI ? 'DocMind AI' : isError ? 'Error' : 'You';

    let sourcesHTML = '';
    if (sources.length > 0) {
      sourcesHTML = '<div class="dm-sources">' +
        sources.map(s => `<span class="dm-source-pill"><i class="fas fa-file-alt"></i>${s}</span>`).join('') +
        '</div>';
    }

    msgEl.innerHTML = `
      <div class="dm-msg-avatar"><i class="fas ${avatarIcon}"></i></div>
      <div class="dm-msg-content">
        <div class="dm-msg-bubble">${content}</div>
        ${sourcesHTML}
        <div class="dm-msg-meta">${authorLabel} Â· ${time}</div>
      </div>
    `;

    messages.appendChild(msgEl);
    messages.scrollTop = messages.scrollHeight;
    return msgEl;
  }

  // â”€â”€ Upload document â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  async function uploadDocument(file) {
    if (!file) return;

    setStatus('loading', 'Uploading & indexing...');
    uploadZone.style.display = 'none';
    fileInfo.style.display = 'flex';
    fileName.textContent = file.name;
    fileChunks.textContent = 'Indexing document...';

    try {
      const formData = new FormData();
      formData.append('file', file);

      const resp = await fetch(API_BASE + '/upload', {
        method: 'POST',
        body: formData
      });

      if (!resp.ok) {
        const err = await resp.json();
        throw new Error(err.detail || 'Upload failed');
      }

      const data = await resp.json();
      fileChunks.textContent = `âœ“ ${data.chunks} chunks indexed`;
      setStatus('ready', 'Document ready');
      documentLoaded = true;

      // Enable input
      input.disabled = false;
      sendBtn.disabled = false;
      input.placeholder = 'Ask anything about your document...';
      chatSub.textContent = 'Document loaded Â· Ask anything';
      sampleBtns.forEach(b => b.disabled = false);

      addMessage('ai', `âœ… I've indexed <strong>${file.name}</strong> into <strong>${data.chunks} chunks</strong>. I'm ready to answer questions about it â€” what would you like to know?`);

    } catch (err) {
      setStatus('error', 'Upload failed');
      fileChunks.textContent = 'âœ— Failed to upload';
      addMessage('error', `Failed to upload document: ${err.message}. Make sure the HuggingFace Space is running.`);
      uploadZone.style.display = 'block';
      fileInfo.style.display = 'none';
    }
  }

  // â”€â”€ Send query â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  async function sendQuery(question) {
    if (!question.trim() || isThinking || !documentLoaded) return;

    addMessage('user', question);
    input.value = '';
    input.style.height = 'auto';
    setThinking(true);

    try {
      const resp = await fetch(API_BASE + '/query', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ question })
      });

      if (!resp.ok) throw new Error('Request failed: ' + resp.status);

      const data = await resp.json();

      if (data.success) {
        addMessage('ai', data.answer, data.sources);
      } else {
        addMessage('error', `Something went wrong: ${data.error || 'Unknown error'}`);
      }

    } catch (err) {
      addMessage('error', `Connection error: ${err.message}. The HuggingFace Space may be sleeping â€” <a href="https://huggingface.co/spaces/Ryanfafa/docmind-ai" target="_blank" style="color:#60a5fa;">open it directly</a> to wake it up, then try again.`);
    } finally {
      setThinking(false);
    }
  }

  // â”€â”€ Event listeners â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  // File input
  fileInput.addEventListener('change', () => {
    if (fileInput.files[0]) uploadDocument(fileInput.files[0]);
  });

  // Drag and drop
  uploadZone.addEventListener('click', () => fileInput.click());
  uploadZone.addEventListener('dragover', (e) => { e.preventDefault(); uploadZone.classList.add('dragover'); });
  uploadZone.addEventListener('dragleave', () => uploadZone.classList.remove('dragover'));
  uploadZone.addEventListener('drop', (e) => {
    e.preventDefault();
    uploadZone.classList.remove('dragover');
    const file = e.dataTransfer.files[0];
    if (file) uploadDocument(file);
  });

  // Remove file
  fileRemove.addEventListener('click', async () => {
    try {
      await fetch(API_BASE + '/reset', { method: 'POST' });
    } catch {}
    documentLoaded = false;
    fileInfo.style.display = 'none';
    uploadZone.style.display = 'block';
    input.disabled = true;
    sendBtn.disabled = true;
    input.placeholder = 'Upload a document first, then ask anything...';
    setStatus('idle', 'No document loaded');
    chatSub.textContent = 'Ready to analyze your document';
    sampleBtns.forEach(b => b.disabled = true);
    addMessage('ai', 'Document removed. Upload a new document to continue.');
  });

  // Send button
  sendBtn.addEventListener('click', () => sendQuery(input.value));

  // Enter key
  input.addEventListener('keydown', (e) => {
    if (e.key === 'Enter' && !e.shiftKey) {
      e.preventDefault();
      sendQuery(input.value);
    }
  });

  // Auto-resize textarea
  input.addEventListener('input', () => {
    input.style.height = 'auto';
    input.style.height = Math.min(input.scrollHeight, 120) + 'px';
  });

  // Sample questions
  sampleBtns.forEach(btn => {
    btn.disabled = true; // disabled until doc loaded
    btn.addEventListener('click', () => {
      const q = btn.getAttribute('data-q');
      if (q && documentLoaded && !isThinking) {
        input.value = q;
        sendQuery(q);
      }
    });
  });

})();
</script>
<!-- ==================== CONTACT SECTION ==================== -->
<section id="contact" class="contact">
    <div class="container">
        <div class="section-header">
            <span class="section-tag light"><i class="fas fa-paper-plane"></i> Get in touch</span>
            <h2 class="section-title light">Let's Work Together</h2>
            <p class="section-subtitle">
                I'm currently open to new opportunities. Whether you have a project 
                in mind, a question, or just want to connect â€” my inbox is always open.
            </p>
        </div>
        <div class="contact-grid">
            <a href="mailto:Ryan.farahani97@gmail.com" class="contact-card">
                <div class="contact-icon-wrapper">
                    <i class="fas fa-envelope"></i>
                </div>
                <h3>Email</h3>
                <p>Ryan.farahani97@gmail.com</p>
                <span class="contact-action">Send a message <i class="fas fa-arrow-right"></i></span>
            </a>
            <a href="https://linkedin.com/in/ryan-farahanii" target="_blank" class="contact-card">
                <div class="contact-icon-wrapper linkedin">
                    <i class="fab fa-linkedin-in"></i>
                </div>
                <h3>LinkedIn</h3>
                <p>ryan-farahanii</p>
                <span class="contact-action">Connect with me <i class="fas fa-arrow-right"></i></span>
            </a>
            <a href="https://github.com/ryanfarahani1" target="_blank" class="contact-card">
                <div class="contact-icon-wrapper github">
                    <i class="fab fa-github"></i>
                </div>
                <h3>GitHub</h3>
                <p>ryanfarahani1</p>
                <span class="contact-action">View my repos <i class="fas fa-arrow-right"></i></span>
            </a>
        </div>
    </div>
</section>

<!-- ==================== FOOTER ==================== -->
<footer class="footer">
    <div class="container">
        <div class="footer-content">
            <div class="footer-logo">
                <span class="logo-bracket">&lt;</span>Ryan<span class="logo-bracket">/&gt;</span>
            </div>
            <p class="footer-text">Designed & built by Ryan Farahani Â© 2025</p>
            <div class="footer-social">
                <a href="https://linkedin.com/in/ryan-farahanii" target="_blank" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                <a href="https://github.com/ryanfarahani1" target="_blank" aria-label="GitHub"><i class="fab fa-github"></i></a>
                <a href="mailto:Ryan.farahani97@gmail.com" aria-label="Email"><i class="fas fa-envelope"></i></a>
            </div>
        </div>
    </div>
</footer>

<!-- ==================== BACK TO TOP ==================== -->
<button class="back-to-top" id="backToTop" aria-label="Back to top">
    <i class="fas fa-arrow-up"></i>
</button>

<script src="script.js"></script>
</body>
</html>
